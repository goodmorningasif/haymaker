"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var ajaxHistory={memory:{},length:0,add:function(t){var e=t.data,n=t.url,a=t.title;return this.memory[a]={data:e,url:n},this.length+=1,this.length},urlParser:function(t){var e=t||window.location.href,n=e.split("/"),a=n.reduce(function(t,e){return"team"===e||"menu"===e?t+e:t},"");return{title:n[n.length-2],subPage:a,url:e}},assemble:function(t){var e=this.urlParser();return this.add({title:e.title,url:e.url,data:t})},init:function(){var t=this.urlParser();if(!this.memory[t.title]){var e=document.getElementById("load").outerHTML;this.assemble(e)}return t}},ajaxReq=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.LINK,n=t.callback,a=t.resetEvents,o=void 0!==a&&a,r=new XMLHttpRequest;return r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(r.status>=200&&r.status<300?n({resp:r.response,link:e,events:o}):r.status>=400&&r.status)},r.open("GET",e,!0),r.setRequestHeader("Content-Type","application/json"),r.send(),!0},toggleExpandables=function(){var t=document.getElementsByClassName("section");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(){t.classList.toggle("expand")})})},setNavClasses=function(t){var e=document.getElementsByClassName("list-link");Array.prototype.forEach.call(e,function(t){t.classList.remove("active")});var n=document.getElementsByClassName("menu-link");Array.prototype.forEach.call(n,function(t){t.children[0].classList.remove("active")});var a=document.getElementsByClassName("ajax-load");Array.prototype.forEach.call(a,function(e){var n=e.getAttribute("href"),a=n.indexOf("/menu/");if(a<0&&n===t&&e.closest(".list-link"))e.closest(".list-link").classList.add("active");else if(a>0&&n===t){var o=document.getElementById("pg-food");o.classList.add("active"),e.closest(".link").classList.add("active")}})},mountComponents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.resp,n=t.link,a=t.popState,o=void 0!==a&&a,r=t.events,s=void 0!==r&&r,l=function(){var t=document.getElementById("load");return ajaxHistory.assemble(t.outerHTML),t},i=function(){var t,e,n=document.body.classList,a=document.getElementById("body_classes").classList;return(t=document.body.classList).remove.apply(t,_toConsumableArray(n)),(e=document.body.classList).add.apply(e,_toConsumableArray(a)),a},c=function(){var t=document.getElementsByClassName("hash"),e=document.getElementById("wpcf7-f199-o1");if(e){var n=e.getBoundingClientRect().top;Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){t.preventDefault(),document.body.scrollTop=n,document.documentElement.scrollTop=n})})}};!function(t){var e=document.getElementById("ham-close"),n=document.getElementById("ham-menu"),a=n.classList.contains("active");setTimeout(function(){t.parentNode.removeChild(t),a&&e.click(),i(),o||l(),c(),toggleExpandables(),document.body.scrollTop=0,document.documentElement.scrollTop=0},250)}(function(t){var e=document.getElementById("load"),n=document.getElementById("feet");return e.classList.remove("mount"),t.classList.remove("mount"),e.parentNode.insertBefore(t,n),setTimeout(function(){t.classList.add("mount")},400),e}(function(t){var e=document.createElement("html");return e.innerHTML=t,s&&s(e),e.querySelector("#load")}(e))),setNavClasses(n),o||function(t){var e=ajaxHistory.urlParser(),n=ajaxHistory.urlParser(t),a={title:e.title,url:e.url};window.history.pushState(a,n.title,t)}(n)},setAjaxEvents=function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e?e.getElementsByClassName("ajax-load"):document.getElementsByClassName("ajax-load"),a=function(e,n){e.preventDefault();var a=ajaxHistory.urlParser(n.getAttribute("href")),o=window.location.href,r=ajaxHistory.memory[a.title];a.url!==o&&(r?mountComponents({resp:ajaxHistory.memory[a.title].data,link:ajaxHistory.memory[a.title].url,events:t}):ajaxReq({LINK:a.url,callback:mountComponents,resetEvents:t}))};Array.prototype.forEach.call(n,function(t){t.addEventListener("click",function(e){a(e,t)},{capture:!0})})},popStateMethods=function(){var t=function(t){var e=ajaxHistory.memory[t.title];e?mountComponents({resp:e.data,link:e.url,popState:!0}):ajaxReq({LINK:t.url,callback:mountComponents})};window.addEventListener("popstate",function(e){console.log("triggers on #",e),t(ajaxHistory.urlParser(window.location.href))})},agent=navigator.userAgent;agent.indexOf("Trident")<0?(setAjaxEvents(),popStateMethods(),ajaxHistory.init()):console.log("this is a IE browser");